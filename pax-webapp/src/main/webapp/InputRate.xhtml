<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui"
        xmlns:pe="http://primefaces.org/ui/extensions"
        template="pageWithMenu.xhtml">
	<ui:define name="content">
	<f:event type="preRenderView" listener="#{rateBean.startConversation}" />
	<h1 class="title ui-widget-header ui-corner-all"><h:outputText value="Exchange rate" /></h1>
	<h:panelGroup styleClass="entry" layout="block" style="margin-top:20px;margin-bottom:20px">
		<p:messages id="messages" showDetail="false" autoUpdate="true" closable="false" />
		<p:tabMenu activeIndex="0">
			<p:menuitem value="Input rate" action="#{rateBean.initInputRateScreen}" icon="ui-icon-star" immediate="true"/>
	    	<p:menuitem value="List" action="#{rateBean.initRateListScreen}" icon="ui-icon-search" immediate="true" />
		</p:tabMenu>
		<p:panelGrid columns="2" style="width:100%" id="display"> 
			<p:outputLabel for="popupButtonCal" value="Datetime" />
		  	<p:calendar value="#{rateBean.rateDate}" id="popupButtonCal" disabled="true"
		  				required="true" label="Date time" showOn="button"/>
		  
		  	 
		    <p:outputLabel for="rate" value="Rate" />
		    <pe:inputNumber id="rate" value="#{rateBean.rateAmount}" label="Rate" required="true" decimalPlaces="0" />
		    
		    
		    <f:facet name="footer">  
          		<p:commandButton value="#{message.rate_b_update}" actionListener="#{rateBean.update}" id="i_update" icon="ui-icon-disk" ajax="false" />
          		<p:commandButton value="#{message.rate_b_clear}" actionListener="#{rateBean.delete}" id="i_clear" icon="ui-icon-refresh"  ajax="false"/>
		    </f:facet>  
		</p:panelGrid>
	</h:panelGroup>
	</ui:define>
</ui:composition>