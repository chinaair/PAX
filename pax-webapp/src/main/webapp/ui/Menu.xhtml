<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui"
        xmlns:c="http://java.sun.com/jsp/jstl/core">
		<f:event type="preRenderView" listener="#{mainBean.init}" />
        <h:panelGroup styleClass="sidebar" layout="block">
			<p:panelMenu style="padding-bottom:1px;width:auto" id="i_menu" stateful="true">
			<c:if test="#{mainBean.getMenuParent() != null}">
				<c:forEach items="#{mainBean.getMenuParent()}" var="menu">
					<p:submenu label="#{menu.menu}" rendered="#{menu != null}">
						<c:if test="#{mainBean.getMenuChildList(menu.id) != null}">
							<c:forEach items="#{mainBean.getMenuChildList(menu.id)}"
								var="menuItem">
									<p:menuitem value="#{mainBean.getMenuName(menuItem)}" rendered="#{menuItem != null}"
										icon="#{menuItem.icon}" url="#{menuItem.link}" onclick="PF('statusDialog').show();" />
							</c:forEach>
						</c:if>
					</p:submenu>
				</c:forEach>
			</c:if>
			</p:panelMenu>
        </h:panelGroup>
</ui:composition>